
%template{:id => "csvFileRow"}
  .list-items.upload_info
    .items-row
      .items-item.gap-5
        .icon-circle-minus.icon-gray.remove_file
        .file-name
      .items-row-action.gap-5.not_found_message
        .uploaded-samples-count
        .upload-icon.bigger
        .ttext.not-found-uuids.hidden

%template{:id => "csvInputFile"}
  = file_field_tag "box[csv_box]", hidden: true, class: "csv_file", accept: "text/csv"

:javascript
  var getUrlParameter = function getUrlParameter(sParam) {
      var sPageURL = window.location.search.substring(1),
          sURLVariables = sPageURL.split('&'),
          sParameterName,
          i;

      for (i = 0; i < sURLVariables.length; i++) {
          sParameterName = sURLVariables[i].split('=');

          if (sParameterName[0] === sParam) {
              return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
          }
      }
      return false;
  };

  var context = getUrlParameter('context');
  var isUUID = function(str) {
    const regexExp = /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi;
    return regexExp.test(str);
  };

  var showToolTip = function(evt) {
    var tooltip = evt.currentTarget.tooltip
    if (tooltip.classList.contains("hidden")) {
        tooltip.classList.remove("hidden")
        setTimeout(() => tooltip.classList.add("hidden"), 5000)
    }
    else {
        tooltip.classList.toggle("hidden")
    }
  }
